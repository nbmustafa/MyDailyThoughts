Of course. To deploy Argo CD with Redis HA enabled (including the HAProxy) but without the Redis test pods, you'll need to override specific values in the official Helm chart.
Here are two common methods to achieve this: using command-line flags or a dedicated values.yaml file.
## Prerequisites
First, ensure you have the Argo CD Helm repository added and updated.
# Add the argo-helm repository
helm repo add argo https://argoproj.github.io/argo-helm

# Update your local Helm chart repository cache
helm repo update

# Create a namespace for Argo CD (if it doesn't exist)
kubectl create namespace argocd

## Option 1: Using --set Flags
This method is quick and ideal for simple deployments or scripting. You pass the configuration overrides directly in the helm install command.
The key values to override are:
 * redis-ha.enabled: Set to true to enable the Redis HA subchart.
 * redis-ha.haproxy.enabled: Set to true to deploy the HAProxy sidecar for Redis.
 * redis-ha.tests.enabled: Set to false to disable the deployment of the test pods.
Execute the following command to deploy Argo CD with your specified configuration:
helm install argocd argo/argo-cd \
  --namespace argocd \
  --set redis-ha.enabled=true \
  --set redis-ha.haproxy.enabled=true \
  --set redis-ha.tests.enabled=false

## Option 2: Using a values.yaml File (Recommended)
This is the recommended approach for production environments as it allows you to version control your configuration.
 * Create a values.yaml file: Create a file named argocd-values.yaml (or any name you prefer) with the following content.
   # argocd-values.yaml

redis-ha:
  # Enable the Redis-HA subchart
  enabled: true

  haproxy:
    # Enable the HAProxy for Redis
    enabled: true

  # Disable the deployment of the test pods for Redis-HA.
  # This ensures no test pods are created during or after the install.
  tests:
    enabled: false

 * Deploy using the file: Install the Helm chart, referencing your custom values file with the -f flag.
   helm install argocd argo/argo-cd \
  --namespace argocd \
  -f argocd-values.yaml

## Verification
After running either of the commands above, you can verify that the Redis test pods were not created.
Check the pods in the argocd namespace. You should see redis-ha-haproxy and redis-ha-server pods, but you will not see any pods with names like redis-ha-test.
# Wait a minute for the pods to be created
kubectl get pods -n argocd

Your output should look similar to this, confirming the absence of the test pods:
NAME                                               READY   STATUS    RESTARTS   AGE
argocd-application-controller-0                    1/1     Running   0          60s
argocd-applicationset-controller-fdd67c8b6-abcde   1/1     Running   0          60s
argocd-dex-server-657484469f-fghij                 1/1     Running   0          60s
argocd-notifications-controller-5c444f8459-klmno   1/1     Running   0          60s
argocd-redis-ha-haproxy-7f7f8d7d9d-pqrst           2/2     Running   0          60s
argocd-redis-ha-server-0                           2/2     Running   0          60s
argocd-redis-ha-server-1                           2/2     Running   0          60s
argocd-redis-ha-server-2                           2/2     Running   0          60s
argocd-repo-server-68d76985b8-uvwxy                1/1     Running   0          60s
argocd-server-79d8b78864-yz123                     1/1     Running   0          60s

